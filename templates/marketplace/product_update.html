{% extends 'base.html' %}
{% load static crispy_forms_tags %}
{% block content %}
<main class="container mt-4">
  <header>
    <h1>Update Product</h1>
    <hr>
  </header>
  <section class="product-details">
    <div class="current-image mb-3">
      <h3>Current Image:</h3>
      {% if primary_image %}
      <img src="{{ primary_image.image.url }}" alt="{{ object.title }}" class="img-fluid" style="max-width:300px;">
      {% else %}
      <p>No image available.</p>
      {% endif %}
    </div>
    <form method="post" enctype="multipart/form-data" novalidate aria-label="Product Update Form">
      {% csrf_token %}
      {% crispy form %}
    </form>
    <div class="replace-image mt-3">
      <button onclick="location.href='{% url 'marketplace:replace_product_image' object.pk %}'" class="btn btn-secondary" aria-label="Replace Image">
        <i class="fas fa-image" aria-hidden="true"></i> Replace Image
      </button>
    </div>
  </section>
  <nav class="mt-3" aria-label="Navigation">
    <a href="{% url 'marketplace:home' %}" class="btn btn-secondary" aria-label="Back to Home">
      <i class="fas fa-home" aria-hidden="true"></i> Back to Home
    </a>
  </nav>
</main>
{% endblock %}
