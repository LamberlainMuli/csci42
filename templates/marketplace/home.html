{% extends 'base.html' %} {% block content %} {% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'marketplace/styles.css' %}" />

<div class="navbar">
	<nav>
		{% if user.is_authenticated %}
			<p>Welcome, {{ user.username }}!</p>
		{% else %}
			<a href="{% url 'user:login' %}">Login</a>
			<a href="{% url 'user:register' %}">Register</a>
		{% endif %}
	</nav>
</div>


<div class="search-header horizontal-container">
	<form method="GET" action="{% url 'marketplace:home' %}">
		<input type="text" name="q" placeholder="Search products..." value="{{ request.GET.q }}" />
		{% comment %} <button type="submit">Search</button> {% endcomment %}
	</form>
	<div class="icon-container">
		<svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke-width="1.5" stroke="currentColor">
			<path stroke-linecap="round" stroke-linejoin="round" d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z" />
		</svg>
	</div>
</div>

<div class="search-filter">
	<p>Found {{ products|length }} results.</p>
	<div class="filters">
		<div>Sort</div>
		<div class="icon-container">
			<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth="{1.5}" stroke="currentColor" className="size-6">
				<path strokeLinecap="round" strokeLinejoin="round" d="M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z" />
			</svg>
		</div>
	</div>
</div>
<!-- Display Products -->
<div class="search-results">
	{% for product in products %} {% comment %} Replace the image with the final URL {% endcomment %}
	<div class="search-result vertical-container">
		<h2><a href="{% url 'marketplace:product-detail' product.pk %}">{{ product.title }}</a></h2>
		<p>Price: â‚±{{ product.price }}</p>
		<p>Category: {{ product.condition }}</p>
	</div>
	{% empty %}
	<p>No products found.</p>
	{% endfor %}
</div>
{% endblock %}
